"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),Enemy=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type=e,n.hp=1,n.speed=10,n.dieImages=[],n.score=10,n}return _inherits(t,Base),_createClass(t,[{key:"init",value:function(){switch(this.ele=document.createElement("div"),GameEngine.ele.appendChild(this.ele),GameEngine.allEnemys.push(this),this.type){case this.Enemy_type_large:this.ele.className="enemy-large",this.speed=this.Enemy_speed_large,this.hp=this.Enemy_hp_large,this.dieImages=["images/plane3_die1.png","images/plane3_die2.png","images/plane3_die3.png","images/plane3_die4.png","images/plane3_die5.png","images/plane3_die6.png"],this.score=5e4;break;case this.Enemy_type_middle:this.ele.className="enemy-middle",this.speed=this.Enemy_speed_middle,this.hp=this.Enemy_hp_middle,this.dieImages=["images/plane2_die1.png","images/plane2_die2.png","images/plane2_die3.png","images/plane2_die4.png"],this.score=3e4;break;case this.Enemy_type_small:this.ele.className="enemy-small",this.speed=this.Enemy_speed_small,this.hp=this.Enemy_hp_small,this.dieImages=["images/plane1_die1.png","images/plane1_die2.png","images/plane1_die3.png"],this.score=1e4;break;default:alert("该型号不存在")}this.ele.style.left=parseInt(Math.random()*(GameEngine.ele.offsetWidth-this.ele.offsetWidth))+"px",this.ele.style.top=-this.ele.offsetHeight+"px"}},{key:"move",value:function(){var e=this;this.timer=setInterval(function(){e.ele.offsetTop>GameEngine.ele.offsetHeight?(clearInterval(e.timer),GameEngine.ele.removeChild(e.ele),GameEngine.allEnemys.splice(GameEngine.allEnemys.indexOf(e),1)):e.ele.style.top=e.ele.offsetTop+e.speed+"px"},50)}},{key:"hurt",value:function(){0==--this.hp&&(this.boom(),GameEngine.totalscore+=this.score,document.getElementsByClassName("score")[0].innerHTML=GameEngine.totalscore)}},{key:"boom",value:function(){var e=this;clearInterval(this.timer);var t=0,n=setInterval(function(){t>=e.dieImages.length&&(clearInterval(n),GameEngine.ele.removeChild(e.ele),GameEngine.allEnemys.splice(GameEngine.allEnemys.indexOf(e),1)),e.ele.style.backgroundImage="url("+e.dieImages[t++]+")"},100)}}]),t}();Enemy.prototype.Enemy_type_large=3,Enemy.prototype.Enemy_type_middle=2,Enemy.prototype.Enemy_type_small=1,Enemy.prototype.Enemy_speed_large=2,Enemy.prototype.Enemy_speed_middle=4,Enemy.prototype.Enemy_speed_small=6,Enemy.prototype.Enemy_hp_large=6,Enemy.prototype.Enemy_hp_middle=3,Enemy.prototype.Enemy_hp_small=1;